{% extends 'base.html' %}
{% load i18n %}
{% load static %}

{% block title %}{% trans "Меню Telegram бота" %}{% endblock title %}

{% block styles %}
{{ block.super }}
<!-- Monaco Editor -->
<link rel="stylesheet" href="{% static 'monaco_editor/min/vs/editor/editor.main.css' %}">
<!-- END Monaco Editor -->

<link rel="stylesheet" href="{% static 'personal_cabinet/telegram_bot_menu/css/telegram_bot_command.css' %}">
<link rel="stylesheet" href="{% static 'personal_cabinet/telegram_bot_menu/css/diagram.css' %}">
{% endblock styles %}

{% block main %}
<div class="container my-3 my-lg-4">
	<div class="row g-4">
		<div class="col-12">
			{% include 'telegram_bot_menu/telegram_bot.html' %}
		</div>
		<div class="col-12">
			{% include 'telegram_bot_menu/telegram_bot_users.html' %}
		</div>
		<div class="col-12">
			{% include 'telegram_bot_menu/telegram_bot_database.html' %}
		</div>
		{% comment %}
			<div class="col-12">
				{% include 'telegram_bot_menu/telegram_bot_exemples.html' %}
			</div>
		{% endcomment %}
		<div class="col-12 col-lg-5">
			{% include 'telegram_bot_menu/telegram_bot_command.html' %}
		</div>
		<div class="col-12 col-lg-7">
			{% include 'telegram_bot_menu/diagram.html' %}
		</div>
	</div>
</div>
{% endblock main %}

{% block scripts %}
{{ block.super }}
<script>
	const telegramBotId = {{ telegram_bot.id }};
	var telegramBotIsRunning = {% if telegram_bot.is_running %}true{% else %}false{% endif %};
	var diagramCurrentScale = parseFloat('{{ telegram_bot.diagram_current_scale }}'.replace(',', '.'));

	const addTelegramBotCommandUrl = "{% url 'add_telegram_bot_command' telegram_bot.id %}";
	const editTelegramBotApiTokenUrl = "{% url 'edit_telegram_bot_api_token' telegram_bot.id %}";
	const editTelegramBotPrivateUrl = "{% url 'edit_telegram_bot_private' telegram_bot.id %}";
	const deleteTelegramBotUrl = "{% url 'delete_telegram_bot' telegram_bot.id %}";

	const getTelegramBotDataUrl = "{% url 'get_telegram_bot_data' telegram_bot.id %}";

	const startTelegramBotMessage = "{% trans 'Вы успешно включили Telegram бота.' %}";
	const stopTelegramBotMessage = "{% trans 'Вы успешно выключили Telegram бота.' %}";

	const startTelegramBotUrl = "{% url 'start_telegram_bot' telegram_bot.id %}";
	const stopTelegramBotUrl = "{% url 'stop_telegram_bot' telegram_bot.id %}";

	const saveTelegramBotDiagramCurrentScaleUrl = "{% url 'save_telegram_bot_diagram_current_scale' telegram_bot.id %}";

	const getTelegramBotCommandsUrl = "{% url 'get_telegram_bot_commands' telegram_bot.id %}";
	const getTelegramBotUsersUrl = "{% url 'get_telegram_bot_users' telegram_bot.id %}";

	const telegramBotTableLineApiTokenInputText = "{% trans 'Введите API-токен Telegram бота' %}";

	const telegramBotCardHeaderIsRunningText = "{% trans 'Telegram бот включен' %}";
	const telegramBotCardHeaderIsNotRunningText = "{% trans 'Telegram бот выключен' %}";

	const telegramBotStartButtonText = "{% trans 'Включить Telegram бота' %}";
	const telegramBotStopButtonText = "{% trans 'Выключить Telegram бота' %}";

	const deleteTelegramBotAskConfirmModalTitle = "{% trans 'Удаление Telegram бота' %}";
	const deleteTelegramBotAskConfirmModalText = "{% trans 'Вы точно хотите удалить Telegram бота?' %}";

	const telegramBotNotActivatedText = "{% trans 'Вашего Telegram бота ещё никто не активировал.' %}";

	const deleteTelegramBotUserAskConfirmModalTitle = "{% trans 'Удаление пользователя Telegram бота' %}";
	const deleteTelegramBotUserAskConfirmModalText = "{% trans 'Вы точно хотите удалить пользователя Telegram бота?' %}";

	const telegramBotDatabaseNotHaveDataText = "{% trans 'В базе данных вашего Telegram бота нет никаких данных.' %}";

	const deleteTelegramBotDatabaseRecordAskConfirmModalTitle = "{% trans 'Удаление записи из базы данных Telegram бота.' %}";
	const deleteTelegramBotDatabaseRecordAskConfirmModalText = "{% trans 'Вы точно хотите удалить запись из базы данных Telegram бота?' %}";

	const telegramBotDatabaseAddRecordButtonText = "{% trans 'Добавить запись' %}";

	const telegramBotCommandCardHeaderAddCommandTitleText = "{% trans 'Добавление команды' %}";
	const telegramBotCommandCardHeaderEditCommandTitleText = "{% trans 'Редактирование команды' %}";

	const telegramBotCommandKeyboardButtonNameText = "{% trans 'Название кнопки' %}";
	const telegramBotCommandKeyboardButtonUrlText = "{% trans 'URL-адрес' %}";

	const telegramBotCommandFooterAddCommandButtonText = "{% trans 'Добавить команду' %}";
	const telegramBotCommandFooterSaveCommandButtonText = "{% trans 'Сохранить команду' %}";

	const deleteTelegramBotCommandAskConfirmModalTitle = "{% trans 'Удаление команды Telegram бота' %}";
	const deleteTelegramBotCommandAskConfirmModalText = "{% trans 'Вы точно хотите удалить команду Telegram бота?' %}";

	const telegramBotDatabeseRecordsUrl = "{% url 'telegram_bot_databese_records' telegram_bot.id %}";

	const monacoEditorMinVsFolderUrl = "{% static 'monaco_editor/min/vs' %}";
</script>

<!-- Monaco Editor -->
<script src="{% static 'monaco_editor/min/vs/loader.js' %}"></script>
<!-- END Monaco Editor -->

<script src="{% static 'personal_cabinet/telegram_bot_menu/js/init.js' %}"></script>
<script src="{% static 'personal_cabinet/telegram_bot_menu/js/main.js' %}"></script>
<script src="{% static 'personal_cabinet/telegram_bot_menu/js/telegram_bot_database.js' %}"></script>
<script src="{% static 'personal_cabinet/telegram_bot_menu/js/telegram_bot_command.js' %}"></script>
<script src="{% static 'personal_cabinet/telegram_bot_menu/js/diagram.js' %}"></script>
{% endblock scripts %}