{% extends 'base.html' %}
{% load i18n %}
{% load static %}

{% block title %}{% trans "Меню Telegram бота" %}{% endblock title %}

{% block styles %}
{{ block.super }}
<!-- Monaco Editor -->
<link rel="stylesheet" href="{% static 'monaco_editor/min/vs/editor/editor.main.css' %}">
<!-- END Monaco Editor -->

<link rel="stylesheet" href="{% static 'personal_cabinet/telegram_bot_menu/css/telegram_bot_plugins.css' %}">
<link rel="stylesheet" href="{% static 'personal_cabinet/telegram_bot_menu/css/telegram_bot_command.css' %}">
<link rel="stylesheet" href="{% static 'personal_cabinet/telegram_bot_menu/css/diagram.css' %}">
{% endblock styles %}

{% block main %}
<div class="container my-3 my-lg-4">
	<div class="row g-4">
		<div class="col-12">
			{% include 'telegram_bot_menu/telegram_bot.html' %}
		</div>
		<div class="col-12">
			{% include 'telegram_bot_menu/telegram_bot_users.html' %}
		</div>
		<div class="col-12">
			{% include 'telegram_bot_menu/telegram_bot_database.html' %}
		</div>
		<div class="col-12">
			{% include 'telegram_bot_menu/telegram_bot_plugins.html' %}
		</div>
		<div class="col-12">
			{% include 'telegram_bot_menu/telegram_bot_plugins_logs.html' %}
		</div>
		<div class="col-12 col-lg-5">
			{% include 'telegram_bot_menu/telegram_bot_command.html' %}
		</div>
		<div class="col-12 col-lg-7">
			{% include 'telegram_bot_menu/diagram.html' %}
		</div>
	</div>
</div>
{% endblock main %}

{% block scripts %}
{{ block.super }}
<!-- Данные -->
<script>
	const telegramBotId = {{ telegram_bot.id }};
	var telegramBotIsRunning = {% if telegram_bot.is_running %}true{% else %}false{% endif %};
	var diagramCurrentScale = parseFloat('{{ telegram_bot.diagram_current_scale }}'.replace(',', '.'));
</script>
<!-- END Данные -->

<!-- Telegram Bot -->
<script>
	const getTelegramBotDataUrl = "{% url 'get_telegram_bot_data' telegram_bot.id %}";
	const editTelegramBotApiTokenUrl = "{% url 'edit_telegram_bot_api_token' telegram_bot.id %}";
	const editTelegramBotPrivateUrl = "{% url 'edit_telegram_bot_private' telegram_bot.id %}";
	const deleteTelegramBotUrl = "{% url 'delete_telegram_bot' telegram_bot.id %}";
	const startTelegramBotUrl = "{% url 'start_telegram_bot' telegram_bot.id %}";
	const stopTelegramBotUrl = "{% url 'stop_telegram_bot' telegram_bot.id %}";

	const telegramBotCardHeaderIsRunningText = "{% trans 'Telegram бот включен' %}";
	const telegramBotCardHeaderIsNotRunningText = "{% trans 'Telegram бот выключен' %}";

	const telegramBotTableLineApiTokenInputText = "{% trans 'Введите API-токен Telegram бота' %}";

	const startTelegramBotMessage = "{% trans 'Вы успешно включили Telegram бота.' %}";
	const stopTelegramBotMessage = "{% trans 'Вы успешно выключили Telegram бота.' %}";

	const telegramBotStartButtonText = "{% trans 'Включить Telegram бота' %}";
	const telegramBotStopButtonText = "{% trans 'Выключить Telegram бота' %}";

	const deleteTelegramBotAskConfirmModalTitle = "{% trans 'Удаление Telegram бота' %}";
	const deleteTelegramBotAskConfirmModalText = "{% trans 'Вы точно хотите удалить Telegram бота?' %}";
</script>
<!-- END Telegram Bot -->

<!-- Telegram Bot Users -->
<script>
	const getTelegramBotUsersUrl = "{% url 'get_telegram_bot_users' telegram_bot.id %}";

	const telegramBotNotActivatedText = "{% trans 'Вашего Telegram бота ещё никто не активировал.' %}";

	const deleteTelegramBotUserAskConfirmModalTitle = "{% trans 'Удаление пользователя Telegram бота' %}";
	const deleteTelegramBotUserAskConfirmModalText = "{% trans 'Вы точно хотите удалить пользователя Telegram бота?' %}";
</script>
<!-- END Telegram Bot Users -->

<!-- Telegram Bot Database -->
<script>
	const telegramBotDatabeseRecordsUrl = "{% url 'telegram_bot_databese_records' telegram_bot.id %}";

	const telegramBotDatabaseNotHaveDataText = "{% trans 'В базе данных вашего Telegram бота нет никаких данных.' %}";

	const deleteTelegramBotDatabaseRecordAskConfirmModalTitle = "{% trans 'Удаление записи из базы данных Telegram бота.' %}";
	const deleteTelegramBotDatabaseRecordAskConfirmModalText = "{% trans 'Вы точно хотите удалить запись из базы данных Telegram бота?' %}";
</script>
<!-- END Telegram Bot Database -->

<!-- Telegram Bot Plugins -->
<script>
	const telegramBotPluginsUrl = "{% url 'plugins' telegram_bot.id %}";

	const telegramBotNotHavePluginText = "{% trans 'Вы ещё не добавили плагин вашему Telegram боту.' %}";

	const telegramBotPluginNameInputPlaceholderText = "{% trans 'Введите название' %}";
	const telegramBotPluginNameText = "{% trans 'Название плагина:' %}";

	const deleteTelegramBotPluginAskConfirmModalTitle = "{% trans 'Удаление плагина Telegram бота.' %}";
	const deleteTelegramBotPluginAskConfirmModalText = "{% trans 'Вы точно хотите удалить плагин Telegram бота?' %}";
</script>
<!-- END Telegram Bot Plugins -->

<!-- Telegram Bot Plugins Logs -->
<script>
	const telegramBotPluginsLogs = "{% url 'plugins_logs' telegram_bot.id %}";

	const telegramBotNotHavePluginsLogsText = "{% trans 'Логов плагинов Telegram бота ещё нет.' %}";
</script>
<!-- END Telegram Bot Plugins Logs -->

<!-- Telegram Bot Plugins Command -->
<script>
	const addTelegramBotCommandUrl = "{% url 'add_telegram_bot_command' telegram_bot.id %}";

	const telegramBotCommandCardHeaderAddCommandTitleText = "{% trans 'Добавление команды' %}";
	const telegramBotCommandCardHeaderEditCommandTitleText = "{% trans 'Редактирование команды' %}";

	const telegramBotCommandKeyboardButtonNameText = "{% trans 'Название кнопки' %}";
	const telegramBotCommandKeyboardButtonUrlText = "{% trans 'URL-адрес' %}";

	const telegramBotCommandFooterAddCommandButtonText = "{% trans 'Добавить команду' %}";
	const telegramBotCommandFooterSaveCommandButtonText = "{% trans 'Сохранить команду' %}";
</script>
<!-- END Telegram Bot Plugins Command -->

<!-- Telegram Bot Plugins Diagram -->
<script>
	const getTelegramBotCommandsUrl = "{% url 'get_telegram_bot_commands' telegram_bot.id %}";
	const saveTelegramBotDiagramCurrentScaleUrl = "{% url 'save_telegram_bot_diagram_current_scale' telegram_bot.id %}";

	const deleteTelegramBotCommandAskConfirmModalTitle = "{% trans 'Удаление команды Telegram бота' %}";
	const deleteTelegramBotCommandAskConfirmModalText = "{% trans 'Вы точно хотите удалить команду Telegram бота?' %}";
</script>
<!-- END Telegram Bot Plugins Diagram -->

<!-- Monaco Editor -->
<script src="{% static 'monaco_editor/min/vs/loader.js' %}"></script>
<script>
	require.config({paths: {'vs': "{% static 'monaco_editor/min/vs' %}"}});
</script>
<!-- END Monaco Editor -->

<!-- Telegram Bot Menu Scripts -->
<script src="{% static 'personal_cabinet/telegram_bot_menu/js/diagram.js' %}"></script>
<script src="{% static 'personal_cabinet/telegram_bot_menu/js/telegram_bot_command.js' %}"></script>
<script src="{% static 'personal_cabinet/telegram_bot_menu/js/telegram_bot_database.js' %}"></script>
<script src="{% static 'personal_cabinet/telegram_bot_menu/js/telegram_bot_users.js' %}"></script>
<script src="{% static 'personal_cabinet/telegram_bot_menu/js/telegram_bot_plugins.js' %}"></script>
<script src="{% static 'personal_cabinet/telegram_bot_menu/js/telegram_bot_plugins_logs.js' %}"></script>
<script src="{% static 'personal_cabinet/telegram_bot_menu/js/telegram_bot.js' %}"></script>
<script src="{% static 'personal_cabinet/telegram_bot_menu/js/monaco_editor.js' %}"></script>
<!-- END Telegram Bot Menu Scripts -->
{% endblock scripts %}